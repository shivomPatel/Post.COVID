{"ast":null,"code":"import _classCallCheck from\"/Users/Shivom/Desktop/Post.COVID4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Shivom/Desktop/Post.COVID4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/Shivom/Desktop/Post.COVID4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/Shivom/Desktop/Post.COVID4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Shivom/Desktop/Post.COVID4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Navbar from\"../components/Navbar/navbar\";import Footer from\"../components/Footer/footer\";import Star from\"../components/Star/Star\";import axios from\"axios\";import\"./reviews.css\";var Review=/*#__PURE__*/function(_Component){_inherits(Review,_Component);var _super=_createSuper(Review);function Review(){var _this;_classCallCheck(this,Review);_this=_super.call(this);_this.handleShow=function(){_this.setState({isActive:true});};_this.handleHide=function(){_this.setState({isActive:false});};_this.renderStars=function(rating){var stars=[];for(var i=0;i<5;i++){if(i<rating){stars.push(/*#__PURE__*/React.createElement(Star,{key:i+1,state:\"active\"}));}else{stars.push(/*#__PURE__*/React.createElement(Star,{key:i+1,state:\"none\"}));}}return stars;};_this.renderReviews=function(){return/*#__PURE__*/React.createElement(\"ul\",null,_this.state.reviews.reverse().map(function(review,i){return/*#__PURE__*/React.createElement(\"li\",{key:i,className:\"reviews-list-item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"review\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"place-header\"},review.place),/*#__PURE__*/React.createElement(\"h3\",{className:\"review-title\"},review.name,\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"star-rating\"},_this.renderStars(review.rating))),/*#__PURE__*/React.createElement(\"div\",{className:\"date-box\"},/*#__PURE__*/React.createElement(\"span\",{className:\"written-title\"},\"Reviewed:\",\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"date-string\"},_this.getDate(review.date)))),/*#__PURE__*/React.createElement(\"div\",{className:\"review-content\"},review.review_text)),/*#__PURE__*/React.createElement(\"hr\",null));}));};_this.state={isActive:false,reviews:[],validation:\"\"};_this.handleHide=_this.handleHide.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Review,[{key:\"isValidInput\",value:function isValidInput(name,review,place){var returnString=\"\";if(name.length<1)returnString+=\"• Invalid Name: Name is Empty\\n\";if(name.length>20)returnString+=\"• Invalid Name: Name is longer than 20 characters\\n\";if(review.length<1)returnString+=\"• Invalid Review: Review is Empty\\n\";if(review.length>1000)returnString+=\"• Invalid Review: Review is longer than 1000 characters.\\n\";if(place.length<1)returnString+=\"• Invalid Place: Place is Empty\\n\";if(place.length>20)returnString+=\"• Invalid Place: Place is longer than 20 characters\\n\";return returnString;}},{key:\"handleSubmit\",value:function handleSubmit(event){this.handleHide();var nameInput=document.getElementById(\"name-input\").value;var reviewInput=document.getElementById(\"review-input\").value;var ratingInput=document.getElementById(\"rating-input\").value;var placeInput=document.getElementById(\"place-input\").value;if(ratingInput>5)ratingInput=5;if(ratingInput<1)ratingInput=1;var newReview={place:placeInput,rating:parseInt(ratingInput),name:nameInput,review_text:reviewInput,date:new Date()};var ret=this.isValidInput(nameInput,reviewInput,placeInput);if(ret.length!==0){window.alert(\"AfterMath\\n\\n\"+ret);}else{axios.post(\"http://localhost:5000/reviews/add\",newReview).then(function(res){return console.log(res.data);});this.setState({reviews:this.state.reviews.concat(newReview)});}}},{key:\"getAverageRating\",value:function getAverageRating(reviews){var totalRating=0;var reviewLen=reviews.length;for(var i=0;i<reviewLen;i++){totalRating+=parseInt(reviews[i].rating);}return totalRating/reviewLen;}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"http://localhost:5000/reviews\").then(function(response){if(response.data.length>0){_this2.setState({reviews:response.data});}});}},{key:\"getDate\",value:function getDate(date){var newDate=new Date(date);var options={weekday:\"long\",year:\"numeric\",month:\"long\",day:\"numeric\"};return newDate.toLocaleDateString(\"en-US\",options);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"meta\",{charSet:\"utf-8\"}),/*#__PURE__*/React.createElement(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1\"}),/*#__PURE__*/React.createElement(\"link\",{rel:\"stylesheet\",href:\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css\"}),/*#__PURE__*/React.createElement(\"script\",{src:\"https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js\"}),/*#__PURE__*/React.createElement(\"script\",{src:\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js\"}),/*#__PURE__*/React.createElement(\"script\",{src:\"https://kit.fontawesome.com/a076d05399.js\"}),/*#__PURE__*/React.createElement(\"div\",{align:\"center\",className:\"review-background\"},/*#__PURE__*/React.createElement(Navbar,{items:[\"u\",\"u\",\"active\",\"u\"]}),/*#__PURE__*/React.createElement(\"div\",{align:\"center\",className:\"reviews-title\"},/*#__PURE__*/React.createElement(\"h2\",{style:{marginTop:\"70px\"}},\"Reviews\"),/*#__PURE__*/React.createElement(\"p\",{className:\"review-description\"},\"Review your trip here by telling us what went wrong, what went right, what you liked, and what you didn't like.\")),/*#__PURE__*/React.createElement(\"div\",{className:\"review-box\"},/*#__PURE__*/React.createElement(\"div\",{className:\"average-box\",align:\"left\"},\"Average review rating:\",\"  \",/*#__PURE__*/React.createElement(\"strong\",{className:\"average-rating\"},this.getAverageRating(this.state.reviews).toFixed(1))),/*#__PURE__*/React.createElement(\"hr\",null),this.renderReviews()),/*#__PURE__*/React.createElement(\"div\",{className:\"review-submission-box\"},!this.state.isActive?/*#__PURE__*/React.createElement(\"button\",{className:\"write-button\",onClick:this.handleShow},\"Write a Review\"):null,this.state.isActive?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{align:\"left\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"user-review-title\"},\"Your Review\")),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"input\",{className:\"place-input\",placeholder:\"Place\",type:\"text\",id:\"place-input\"}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{className:\"name-input\",placeholder:\"Name\",type:\"text\",id:\"name-input\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"textarea\",{className:\"review-input\",placeholder:\"Write review here...\",id:\"review-input\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"rating-input-box\"},\"Rating:\",\" \",/*#__PURE__*/React.createElement(\"input\",{id:\"rating-input\",type:\"NUMBER\",min:\"1\",max:\"5\",step:\"1\",placeholder:\"5\",size:\"6\",className:\"input-spinner\"})))):null,this.state.isActive?/*#__PURE__*/React.createElement(\"button\",{className:\"write-button submit\",onClick:this.handleSubmit},\"Submit your Review\"):null)),/*#__PURE__*/React.createElement(Footer,null));}}]);return Review;}(Component);export default Review;","map":{"version":3,"sources":["/Users/Shivom/Desktop/Post.COVID4/client/src/pages/Reviews/Reviews.js"],"names":["React","Component","Navbar","Footer","Star","axios","Review","handleShow","setState","isActive","handleHide","renderStars","rating","stars","i","push","renderReviews","state","reviews","reverse","map","review","place","name","getDate","date","review_text","validation","bind","handleSubmit","returnString","length","event","nameInput","document","getElementById","value","reviewInput","ratingInput","placeInput","newReview","parseInt","Date","ret","isValidInput","window","alert","post","then","res","console","log","data","concat","totalRating","reviewLen","get","response","newDate","options","weekday","year","month","day","toLocaleDateString","marginTop","getAverageRating","toFixed"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Navbar from \"../components/Navbar/navbar\";\nimport Footer from \"../components/Footer/footer\";\nimport Star from \"../components/Star/Star\";\nimport axios from \"axios\";\nimport \"./reviews.css\";\n\nclass Review extends Component {\n  constructor() {\n    super();\n    this.state = {\n      isActive: false,\n      reviews: [],\n      validation: \"\",\n    };\n    this.handleHide = this.handleHide.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  isValidInput(name, review, place) {\n    var returnString = \"\";\n    if (name.length < 1) returnString += \"• Invalid Name: Name is Empty\\n\";\n    if (name.length > 20)\n      returnString += \"• Invalid Name: Name is longer than 20 characters\\n\";\n\n    if (review.length < 1)\n      returnString += \"• Invalid Review: Review is Empty\\n\";\n    if (review.length > 1000)\n      returnString +=\n        \"• Invalid Review: Review is longer than 1000 characters.\\n\";\n\n    if (place.length < 1) returnString += \"• Invalid Place: Place is Empty\\n\";\n    if (place.length > 20)\n      returnString += \"• Invalid Place: Place is longer than 20 characters\\n\";\n\n    return returnString;\n  }\n\n  handleShow = () => {\n    this.setState({\n      isActive: true,\n    });\n  };\n\n  handleHide = () => {\n    this.setState({\n      isActive: false,\n    });\n  };\n\n  renderStars = (rating) => {\n    let stars = [];\n    for (var i = 0; i < 5; i++) {\n      if (i < rating) {\n        stars.push(<Star key={i + 1} state={\"active\"} />);\n      } else {\n        stars.push(<Star key={i + 1} state={\"none\"} />);\n      }\n    }\n    return stars;\n  };\n\n  renderReviews = () => {\n    return (\n      <ul>\n        {this.state.reviews.reverse().map((review, i) => (\n          <li key={i} className=\"reviews-list-item\">\n            <div className=\"review\">\n              <h5 className=\"place-header\">{review.place}</h5>\n              <h3 className=\"review-title\">\n                {review.name}{\" \"}\n                <span className=\"star-rating\">\n                  {this.renderStars(review.rating)}\n                </span>\n              </h3>\n              <div className=\"date-box\">\n                <span className=\"written-title\">\n                  Reviewed:{\" \"}\n                  <span className=\"date-string\">\n                    {this.getDate(review.date)}\n                  </span>\n                </span>\n              </div>\n              <div className=\"review-content\">{review.review_text}</div>\n            </div>\n            <hr></hr>\n          </li>\n        ))}\n      </ul>\n    );\n  };\n\n  handleSubmit(event) {\n    this.handleHide();\n    var nameInput = document.getElementById(\"name-input\").value;\n    var reviewInput = document.getElementById(\"review-input\").value;\n    var ratingInput = document.getElementById(\"rating-input\").value;\n    var placeInput = document.getElementById(\"place-input\").value;\n    if (ratingInput > 5) ratingInput = 5;\n    if (ratingInput < 1) ratingInput = 1;\n\n    const newReview = {\n      place: placeInput,\n      rating: parseInt(ratingInput),\n      name: nameInput,\n      review_text: reviewInput,\n      date: new Date(),\n    };\n\n    var ret = this.isValidInput(nameInput, reviewInput, placeInput);\n    if (ret.length !== 0) {\n      window.alert(\"AfterMath\\n\\n\" + ret);\n    } else {\n      axios\n        .post(\"http://localhost:5000/reviews/add\", newReview)\n        .then((res) => console.log(res.data));\n\n      this.setState({\n        reviews: this.state.reviews.concat(newReview),\n      });\n    }\n  }\n\n  getAverageRating(reviews) {\n    var totalRating = 0;\n    var reviewLen = reviews.length;\n    for (var i = 0; i < reviewLen; i++)\n      totalRating += parseInt(reviews[i].rating);\n    return totalRating / reviewLen;\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:5000/reviews\").then((response) => {\n      if (response.data.length > 0) {\n        this.setState({\n          reviews: response.data,\n        });\n      }\n    });\n  }\n\n  getDate(date) {\n    var newDate = new Date(date);\n    var options = {\n      weekday: \"long\",\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n    };\n    return newDate.toLocaleDateString(\"en-US\", options);\n  }\n\n  render() {\n    return (\n      <div>\n        <meta charSet=\"utf-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n        <link\n          rel=\"stylesheet\"\n          href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css\"\n        ></link>\n        <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js\"></script>\n        <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js\"></script>\n        <script src=\"https://kit.fontawesome.com/a076d05399.js\"></script>\n\n        <div align=\"center\" className=\"review-background\">\n          <Navbar items={[\"u\", \"u\", \"active\", \"u\"]}></Navbar>\n          <div align=\"center\" className=\"reviews-title\">\n            <h2 style={{ marginTop: \"70px\" }}>Reviews</h2>\n            <p className=\"review-description\">\n              Review your trip here by telling us what went wrong, what went\n              right, what you liked, and what you didn't like.\n            </p>\n          </div>\n          <div className=\"review-box\">\n            <div className=\"average-box\" align=\"left\">\n              Average review rating:{\"  \"}\n              <strong className=\"average-rating\">\n                {this.getAverageRating(this.state.reviews).toFixed(1)}\n              </strong>\n            </div>\n            <hr></hr>\n            {this.renderReviews()}\n          </div>\n          <div className=\"review-submission-box\">\n            {!this.state.isActive ? (\n              <button className=\"write-button\" onClick={this.handleShow}>\n                Write a Review\n              </button>\n            ) : null}\n            {this.state.isActive ? (\n              <div>\n                <div align=\"left\">\n                  <h3 className=\"user-review-title\">Your Review</h3>\n                </div>\n\n                <form onSubmit={this.handleSubmit}>\n                  <div>\n                    <span>\n                      <input\n                        className=\"place-input\"\n                        placeholder=\"Place\"\n                        type=\"text\"\n                        id=\"place-input\"\n                      />\n                    </span>\n                  </div>\n                  <div>\n                    <input\n                      className=\"name-input\"\n                      placeholder=\"Name\"\n                      type=\"text\"\n                      id=\"name-input\"\n                    />\n                  </div>\n                  <div>\n                    <textarea\n                      className=\"review-input\"\n                      placeholder=\"Write review here...\"\n                      id=\"review-input\"\n                    ></textarea>\n                  </div>\n                  <span className=\"rating-input-box\">\n                    Rating:{\" \"}\n                    <input\n                      id=\"rating-input\"\n                      type=\"NUMBER\"\n                      min=\"1\"\n                      max=\"5\"\n                      step=\"1\"\n                      placeholder=\"5\"\n                      size=\"6\"\n                      className=\"input-spinner\"\n                    ></input>\n                  </span>\n                </form>\n              </div>\n            ) : null}\n            {this.state.isActive ? (\n              <button\n                className=\"write-button submit\"\n                onClick={this.handleSubmit}\n              >\n                Submit your Review\n              </button>\n            ) : null}\n          </div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default Review;\n"]},"metadata":{},"sourceType":"module"}