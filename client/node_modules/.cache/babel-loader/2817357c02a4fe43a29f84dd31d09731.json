{"ast":null,"code":"var _jsxFileName = \"/Users/Shivom/Desktop/Post.COVID4/client/src/pages/LearnMore/LearnMore.js\";\nimport React, { Component } from \"react\";\nimport \"./learnmore.css\";\nimport Navbar from \"../components/Navbar/navbar\";\nimport Footer from \"../components/Footer/footer\";\nlet unsplashStyle = {\n  display: \"-ms-flexbox\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"center\",\n  width: \"90%\",\n  margin: \"auto\"\n};\nlet itemWidth = \"50%\";\n\nif (window.screen.width > 1024) {\n  itemWidth = \"80%\";\n}\n\nclass LearnMore extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      imgs: [],\n      articles: [],\n      place: null\n    };\n\n    this.addArticle = data => {\n      const articles = [];\n      data.response.docs.map(article => {\n        articles.push( /*#__PURE__*/React.createElement(\"li\", {\n          style: {\n            listStyle: \"none\",\n            width: itemWidth,\n            margin: \"20px auto\"\n          },\n          key: article._id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"h2\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          style: {\n            color: \"black\"\n          },\n          href: article.web_url,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }\n        }, article.snippet))));\n      });\n      this.setState({\n        articles: articles\n      });\n    };\n  }\n\n  componentDidMount() {\n    const query = window.location.search.split(\"=\")[1];\n\n    var _place = query.replace(/%20/g, \" \");\n\n    this.setState({\n      place: _place\n    }); // unsplash API/Access key (may or may not be used): wgDscHe3K0f4aePI2sk19ypxziteaGHWJISitjiB-aY\n\n    fetch(`https://api.unsplash.com/search/photos?page=1&query=${query}`, {\n      headers: {\n        Authorization: \"Client-ID ed4ea3b388f4503fa9a5817e2e5250171fd92b3b61ff520ff9f6027cff251a67\"\n      }\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      this.setState({\n        imgs: data.results\n      });\n    }).catch(err => {\n      console.log(\"Error happened during fetching!\", err);\n    }); // nytimes article search api key: GGGMmo1tyZ4eWkfFiySqjULVMbcMKJMX\n\n    fetch(`http://api.nytimes.com/svc/search/v2/articlesearch.json?q=${query}&api-key=GGGMmo1tyZ4eWkfFiySqjULVMbcMKJMX`).then(response => {\n      return response.json();\n    }).then(data => {\n      this.addArticle(data);\n    });\n  }\n\n  renderImages() {\n    let arr = [];\n\n    for (var i = 0; i < this.state.imgs.length; i++) {\n      let image = this.state.imgs[i];\n      arr.push( /*#__PURE__*/React.createElement(\"img\", {\n        className: \"image\",\n        style: {\n          margin: \"12px\",\n          width: itemWidth\n        },\n        src: image.urls.regular,\n        key: image.id,\n        alt: \"images of the chosen place\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }\n      }));\n    }\n\n    return arr;\n  }\n\n  render() {\n    if (this.state.imgs.articles === 0) {\n      return /*#__PURE__*/React.createElement(\"button\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 14\n        }\n      }, \"Learnmore\");\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"meta\", {\n        charSet: \"utf-8\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"meta\", {\n        name: \"viewport\",\n        content: \"width=device-width, initial-scale=1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"link\", {\n        rel: \"stylesheet\",\n        href: \"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"script\", {\n        src: \"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"script\", {\n        src: \"https://kit.fontawesome.com/a076d05399.js\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Navbar, {\n        items: [\"u\", \"u\", \"u\", \"u\"],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        style: unsplashStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"place-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }\n      }, this.state.place), this.renderImages(), /*#__PURE__*/React.createElement(\"div\", {\n        align: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"article-section\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 15\n        }\n      }, \"Articles\")), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"articles\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 15\n        }\n      }, this.state.articles))), /*#__PURE__*/React.createElement(Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }\n      }));\n    }\n  }\n\n}\n\nexport default LearnMore;","map":{"version":3,"sources":["/Users/Shivom/Desktop/Post.COVID4/client/src/pages/LearnMore/LearnMore.js"],"names":["React","Component","Navbar","Footer","unsplashStyle","display","flexDirection","alignItems","width","margin","itemWidth","window","screen","LearnMore","state","imgs","articles","place","addArticle","data","response","docs","map","article","push","listStyle","_id","color","web_url","snippet","setState","componentDidMount","query","location","search","split","_place","replace","fetch","headers","Authorization","then","json","results","catch","err","console","log","renderImages","arr","i","length","image","urls","regular","id","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,iBAAP;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AAEA,IAAIC,aAAa,GAAG;AAClBC,EAAAA,OAAO,EAAE,aADS;AAElBA,EAAAA,OAAO,EAAE,MAFS;AAGlBC,EAAAA,aAAa,EAAE,QAHG;AAIlBC,EAAAA,UAAU,EAAE,QAJM;AAKlBC,EAAAA,KAAK,EAAE,KALW;AAMlBC,EAAAA,MAAM,EAAE;AANU,CAApB;AASA,IAAIC,SAAS,GAAG,KAAhB;;AAEA,IAAIC,MAAM,CAACC,MAAP,CAAcJ,KAAd,GAAsB,IAA1B,EAAgC;AAC9BE,EAAAA,SAAS,GAAG,KAAZ;AACD;;AAED,MAAMG,SAAN,SAAwBZ,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAChCa,KADgC,GACxB;AACNC,MAAAA,IAAI,EAAE,EADA;AAENC,MAAAA,QAAQ,EAAE,EAFJ;AAGNC,MAAAA,KAAK,EAAE;AAHD,KADwB;;AAAA,SA6ChCC,UA7CgC,GA6ClBC,IAAD,IAAU;AACrB,YAAMH,QAAQ,GAAG,EAAjB;AACAG,MAAAA,IAAI,CAACC,QAAL,CAAcC,IAAd,CAAmBC,GAAnB,CAAwBC,OAAD,IAAa;AAClCP,QAAAA,QAAQ,CAACQ,IAAT,eACE;AACE,UAAA,KAAK,EAAE;AAAEC,YAAAA,SAAS,EAAE,MAAb;AAAqBjB,YAAAA,KAAK,EAAEE,SAA5B;AAAuCD,YAAAA,MAAM,EAAE;AAA/C,WADT;AAEE,UAAA,GAAG,EAAEc,OAAO,CAACG,GAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAG,UAAA,KAAK,EAAE;AAAEC,YAAAA,KAAK,EAAE;AAAT,WAAV;AAA8B,UAAA,IAAI,EAAEJ,OAAO,CAACK,OAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGL,OAAO,CAACM,OADX,CADF,CAJF,CADF;AAYD,OAbD;AAcA,WAAKC,QAAL,CAAc;AACZd,QAAAA,QAAQ,EAAEA;AADE,OAAd;AAGD,KAhE+B;AAAA;;AAOhCe,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,KAAK,GAAGrB,MAAM,CAACsB,QAAP,CAAgBC,MAAhB,CAAuBC,KAAvB,CAA6B,GAA7B,EAAkC,CAAlC,CAAd;;AACA,QAAIC,MAAM,GAAGJ,KAAK,CAACK,OAAN,CAAc,MAAd,EAAsB,GAAtB,CAAb;;AAEA,SAAKP,QAAL,CAAc;AACZb,MAAAA,KAAK,EAAEmB;AADK,KAAd,EAJkB,CAOlB;;AACAE,IAAAA,KAAK,CAAE,uDAAsDN,KAAM,EAA9D,EAAiE;AACpEO,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EACX;AAFK;AAD2D,KAAjE,CAAL,CAMGC,IANH,CAMSrB,QAAD,IAAc;AAClB,aAAOA,QAAQ,CAACsB,IAAT,EAAP;AACD,KARH,EASGD,IATH,CASStB,IAAD,IAAU;AACd,WAAKW,QAAL,CAAc;AACZf,QAAAA,IAAI,EAAEI,IAAI,CAACwB;AADC,OAAd;AAGD,KAbH,EAcGC,KAdH,CAcUC,GAAD,IAAS;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA+CF,GAA/C;AACD,KAhBH,EARkB,CA0BlB;;AACAP,IAAAA,KAAK,CACF,6DAA4DN,KAAM,2CADhE,CAAL,CAGGS,IAHH,CAGSrB,QAAD,IAAc;AAClB,aAAOA,QAAQ,CAACsB,IAAT,EAAP;AACD,KALH,EAMGD,IANH,CAMStB,IAAD,IAAU;AACd,WAAKD,UAAL,CAAgBC,IAAhB;AACD,KARH;AASD;;AAuBD6B,EAAAA,YAAY,GAAG;AACb,QAAIC,GAAG,GAAG,EAAV;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKpC,KAAL,CAAWC,IAAX,CAAgBoC,MAApC,EAA4CD,CAAC,EAA7C,EAAiD;AAC/C,UAAIE,KAAK,GAAG,KAAKtC,KAAL,CAAWC,IAAX,CAAgBmC,CAAhB,CAAZ;AACAD,MAAAA,GAAG,CAACzB,IAAJ,eACE;AACE,QAAA,SAAS,EAAC,OADZ;AAEE,QAAA,KAAK,EAAE;AAAEf,UAAAA,MAAM,EAAE,MAAV;AAAkBD,UAAAA,KAAK,EAAEE;AAAzB,SAFT;AAGE,QAAA,GAAG,EAAE0C,KAAK,CAACC,IAAN,CAAWC,OAHlB;AAIE,QAAA,GAAG,EAAEF,KAAK,CAACG,EAJb;AAKE,QAAA,GAAG,EAAC,4BALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AASD;;AACD,WAAON,GAAP;AACD;;AAEDO,EAAAA,MAAM,GAAG;AACP,QAAI,KAAK1C,KAAL,CAAWC,IAAX,CAAgBC,QAAhB,KAA6B,CAAjC,EAAoC;AAClC,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAP;AACD,KAFD,MAEO;AACL,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAM,QAAA,OAAO,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAM,QAAA,IAAI,EAAC,UAAX;AAAsB,QAAA,OAAO,EAAC,qCAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,eAGE;AACE,QAAA,GAAG,EAAC,YADN;AAEE,QAAA,IAAI,EAAC,uEAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,eAOE;AAAQ,QAAA,GAAG,EAAC,qEAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,eAQE;AAAQ,QAAA,GAAG,EAAC,2CAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARF,eASE,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATF,eAUE;AAAK,QAAA,KAAK,EAAEZ,aAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6B,KAAKU,KAAL,CAAWG,KAAxC,CADF,EAEG,KAAK+B,YAAL,EAFH,eAIE;AAAK,QAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAI,QAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CAJF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAI,QAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0B,KAAKlC,KAAL,CAAWE,QAArC,CADF,CARF,CAVF,eAsBE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAtBF,CADF;AA0BD;AACF;;AAlH+B;;AAqHlC,eAAeH,SAAf","sourcesContent":["import React, { Component } from \"react\";\nimport \"./learnmore.css\";\nimport Navbar from \"../components/Navbar/navbar\";\nimport Footer from \"../components/Footer/footer\";\n\nlet unsplashStyle = {\n  display: \"-ms-flexbox\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"center\",\n  width: \"90%\",\n  margin: \"auto\",\n};\n\nlet itemWidth = \"50%\";\n\nif (window.screen.width > 1024) {\n  itemWidth = \"80%\";\n}\n\nclass LearnMore extends Component {\n  state = {\n    imgs: [],\n    articles: [],\n    place: null,\n  };\n\n  componentDidMount() {\n    const query = window.location.search.split(\"=\")[1];\n    var _place = query.replace(/%20/g, \" \");\n\n    this.setState({\n      place: _place,\n    });\n    // unsplash API/Access key (may or may not be used): wgDscHe3K0f4aePI2sk19ypxziteaGHWJISitjiB-aY\n    fetch(`https://api.unsplash.com/search/photos?page=1&query=${query}`, {\n      headers: {\n        Authorization:\n          \"Client-ID ed4ea3b388f4503fa9a5817e2e5250171fd92b3b61ff520ff9f6027cff251a67\",\n      },\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        this.setState({\n          imgs: data.results,\n        });\n      })\n      .catch((err) => {\n        console.log(\"Error happened during fetching!\", err);\n      });\n\n    // nytimes article search api key: GGGMmo1tyZ4eWkfFiySqjULVMbcMKJMX\n    fetch(\n      `http://api.nytimes.com/svc/search/v2/articlesearch.json?q=${query}&api-key=GGGMmo1tyZ4eWkfFiySqjULVMbcMKJMX`\n    )\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        this.addArticle(data);\n      });\n  }\n\n  addArticle = (data) => {\n    const articles = [];\n    data.response.docs.map((article) => {\n      articles.push(\n        <li\n          style={{ listStyle: \"none\", width: itemWidth, margin: \"20px auto\" }}\n          key={article._id}\n        >\n          <h2>\n            <a style={{ color: \"black\" }} href={article.web_url}>\n              {article.snippet}\n            </a>\n          </h2>\n        </li>\n      );\n    });\n    this.setState({\n      articles: articles,\n    });\n  };\n\n  renderImages() {\n    let arr = [];\n    for (var i = 0; i < this.state.imgs.length; i++) {\n      let image = this.state.imgs[i];\n      arr.push(\n        <img\n          className=\"image\"\n          style={{ margin: \"12px\", width: itemWidth }}\n          src={image.urls.regular}\n          key={image.id}\n          alt=\"images of the chosen place\"\n        />\n      );\n    }\n    return arr;\n  }\n\n  render() {\n    if (this.state.imgs.articles === 0) {\n      return <button>Learnmore</button>;\n    } else {\n      return (\n        <div>\n          <meta charSet=\"utf-8\" />\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n          <link\n            rel=\"stylesheet\"\n            href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css\"\n          ></link>\n          <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js\"></script>\n          <script src=\"https://kit.fontawesome.com/a076d05399.js\"></script>\n          <Navbar items={[\"u\", \"u\", \"u\", \"u\"]}></Navbar>\n          <div style={unsplashStyle}>\n            <h2 className=\"place-title\">{this.state.place}</h2>\n            {this.renderImages()}\n\n            <div align=\"left\">\n              <h2 className=\"article-section\">Articles</h2>\n            </div>\n\n            <div>\n              <ul className=\"articles\">{this.state.articles}</ul>\n            </div>\n          </div>\n          <Footer />\n        </div>\n      );\n    }\n  }\n}\n\nexport default LearnMore;\n"]},"metadata":{},"sourceType":"module"}