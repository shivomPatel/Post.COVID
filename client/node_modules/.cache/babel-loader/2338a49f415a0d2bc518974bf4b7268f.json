{"ast":null,"code":"import _classCallCheck from\"/Users/Shivom/Desktop/Post.COVID4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Shivom/Desktop/Post.COVID4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Shivom/Desktop/Post.COVID4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Shivom/Desktop/Post.COVID4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _defineProperty from\"/Users/Shivom/Desktop/Post.COVID4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";var _unsplashStyle;import React,{Component}from\"react\";import\"./learnmore.css\";import Navbar from\"../components/Navbar/navbar\";import Footer from\"../components/Footer/footer\";var unsplashStyle=(_unsplashStyle={display:\"-ms-flexbox\"},_defineProperty(_unsplashStyle,\"display\",\"flex\"),_defineProperty(_unsplashStyle,\"flexDirection\",\"column\"),_defineProperty(_unsplashStyle,\"alignItems\",\"center\"),_defineProperty(_unsplashStyle,\"width\",\"90%\"),_defineProperty(_unsplashStyle,\"margin\",\"auto\"),_unsplashStyle);var itemWidth=\"50%\";if(window.screen.width>1024){itemWidth=\"80%\";}var LearnMore=/*#__PURE__*/function(_Component){_inherits(LearnMore,_Component);var _super=_createSuper(LearnMore);function LearnMore(){var _this;_classCallCheck(this,LearnMore);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={imgs:[],articles:[],place:null};_this.addArticle=function(data){var articles=[];data.response.docs.map(function(article){articles.push(/*#__PURE__*/React.createElement(\"li\",{style:{listStyle:\"none\",width:itemWidth,margin:\"20px auto\"},key:article._id},/*#__PURE__*/React.createElement(\"h2\",null,/*#__PURE__*/React.createElement(\"a\",{style:{color:\"black\"},href:article.web_url},article.snippet))));});_this.setState({articles:articles});};return _this;}_createClass(LearnMore,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var query=window.location.search.split(\"=\")[1];var _place=query.replace(/%20/g,\" \");this.setState({place:_place});// unsplash API/Access key (may or may not be used): wgDscHe3K0f4aePI2sk19ypxziteaGHWJISitjiB-aY\nfetch(\"https://api.unsplash.com/search/photos?page=1&query=\".concat(query),{headers:{Authorization:\"Client-ID ed4ea3b388f4503fa9a5817e2e5250171fd92b3b61ff520ff9f6027cff251a67\"}}).then(function(response){return response.json();}).then(function(data){_this2.setState({imgs:data.results});}).catch(function(err){console.log(\"Error happened during fetching!\",err);});// nytimes article search api key: GGGMmo1tyZ4eWkfFiySqjULVMbcMKJMX\nfetch(\"http://api.nytimes.com/svc/search/v2/articlesearch.json?q=\".concat(query,\"&api-key=GGGMmo1tyZ4eWkfFiySqjULVMbcMKJMX\")).then(function(response){return response.json();}).then(function(data){_this2.addArticle(data);});}},{key:\"renderImages\",value:function renderImages(){var arr=[];for(var i=0;i<this.state.imgs.length;i++){var image=this.state.imgs[i];arr.push(/*#__PURE__*/React.createElement(\"img\",{className:\"image\",style:{margin:\"12px\",width:itemWidth},src:image.urls.regular,key:image.id,alt:\"images of the chosen place\"}));}return arr;}},{key:\"render\",value:function render(){if(this.state.imgs.articles===0){return/*#__PURE__*/React.createElement(\"button\",null,\"Learnmore\");}else{return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"meta\",{charSet:\"utf-8\"}),/*#__PURE__*/React.createElement(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1\"}),/*#__PURE__*/React.createElement(\"link\",{rel:\"stylesheet\",href:\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css\"}),/*#__PURE__*/React.createElement(\"script\",{src:\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js\"}),/*#__PURE__*/React.createElement(\"script\",{src:\"https://kit.fontawesome.com/a076d05399.js\"}),/*#__PURE__*/React.createElement(Navbar,{items:[\"u\",\"u\",\"u\",\"u\"]}),/*#__PURE__*/React.createElement(\"div\",{style:unsplashStyle},/*#__PURE__*/React.createElement(\"h2\",{className:\"place-title\"},this.state.place),this.renderImages(),/*#__PURE__*/React.createElement(\"div\",{align:\"left\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"article-section\"},\"Articles\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"ul\",{className:\"articles\"},this.state.articles))),/*#__PURE__*/React.createElement(Footer,null));}}}]);return LearnMore;}(Component);export default LearnMore;","map":{"version":3,"sources":["/Users/Shivom/Desktop/Post.COVID4/client/src/pages/LearnMore/LearnMore.js"],"names":["React","Component","Navbar","Footer","unsplashStyle","display","itemWidth","window","screen","width","LearnMore","state","imgs","articles","place","addArticle","data","response","docs","map","article","push","listStyle","margin","_id","color","web_url","snippet","setState","query","location","search","split","_place","replace","fetch","headers","Authorization","then","json","results","catch","err","console","log","arr","i","length","image","urls","regular","id","renderImages"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./learnmore.css\";\nimport Navbar from \"../components/Navbar/navbar\";\nimport Footer from \"../components/Footer/footer\";\n\nlet unsplashStyle = {\n  display: \"-ms-flexbox\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"center\",\n  width: \"90%\",\n  margin: \"auto\",\n};\n\nlet itemWidth = \"50%\";\n\nif (window.screen.width > 1024) {\n  itemWidth = \"80%\";\n}\n\nclass LearnMore extends Component {\n  state = {\n    imgs: [],\n    articles: [],\n    place: null,\n  };\n\n  componentDidMount() {\n    const query = window.location.search.split(\"=\")[1];\n    var _place = query.replace(/%20/g, \" \");\n\n    this.setState({\n      place: _place,\n    });\n    // unsplash API/Access key (may or may not be used): wgDscHe3K0f4aePI2sk19ypxziteaGHWJISitjiB-aY\n    fetch(`https://api.unsplash.com/search/photos?page=1&query=${query}`, {\n      headers: {\n        Authorization:\n          \"Client-ID ed4ea3b388f4503fa9a5817e2e5250171fd92b3b61ff520ff9f6027cff251a67\",\n      },\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        this.setState({\n          imgs: data.results,\n        });\n      })\n      .catch((err) => {\n        console.log(\"Error happened during fetching!\", err);\n      });\n\n    // nytimes article search api key: GGGMmo1tyZ4eWkfFiySqjULVMbcMKJMX\n    fetch(\n      `http://api.nytimes.com/svc/search/v2/articlesearch.json?q=${query}&api-key=GGGMmo1tyZ4eWkfFiySqjULVMbcMKJMX`\n    )\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        this.addArticle(data);\n      });\n  }\n\n  addArticle = (data) => {\n    const articles = [];\n    data.response.docs.map((article) => {\n      articles.push(\n        <li\n          style={{ listStyle: \"none\", width: itemWidth, margin: \"20px auto\" }}\n          key={article._id}\n        >\n          <h2>\n            <a style={{ color: \"black\" }} href={article.web_url}>\n              {article.snippet}\n            </a>\n          </h2>\n        </li>\n      );\n    });\n    this.setState({\n      articles: articles,\n    });\n  };\n\n  renderImages() {\n    let arr = [];\n    for (var i = 0; i < this.state.imgs.length; i++) {\n      let image = this.state.imgs[i];\n      arr.push(\n        <img\n          className=\"image\"\n          style={{ margin: \"12px\", width: itemWidth }}\n          src={image.urls.regular}\n          key={image.id}\n          alt=\"images of the chosen place\"\n        />\n      );\n    }\n    return arr;\n  }\n\n  render() {\n    if (this.state.imgs.articles === 0) {\n      return <button>Learnmore</button>;\n    } else {\n      return (\n        <div>\n          <meta charSet=\"utf-8\" />\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n          <link\n            rel=\"stylesheet\"\n            href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css\"\n          ></link>\n          <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js\"></script>\n          <script src=\"https://kit.fontawesome.com/a076d05399.js\"></script>\n          <Navbar items={[\"u\", \"u\", \"u\", \"u\"]}></Navbar>\n          <div style={unsplashStyle}>\n            <h2 className=\"place-title\">{this.state.place}</h2>\n            {this.renderImages()}\n\n            <div align=\"left\">\n              <h2 className=\"article-section\">Articles</h2>\n            </div>\n\n            <div>\n              <ul className=\"articles\">{this.state.articles}</ul>\n            </div>\n          </div>\n          <Footer />\n        </div>\n      );\n    }\n  }\n}\n\nexport default LearnMore;\n"]},"metadata":{},"sourceType":"module"}