{"ast":null,"code":"import _classCallCheck from\"/Users/Shivom/Desktop/Post.COVID4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Shivom/Desktop/Post.COVID4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/Shivom/Desktop/Post.COVID4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/Shivom/Desktop/Post.COVID4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Shivom/Desktop/Post.COVID4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Navbar from\"../../components/Navbar/navbar\";import Destination from\"./components/Destination\";import jsPDF from\"jspdf\";import\"./tripSubmission.css\";function loadFromLocalStorage(){try{var serializedState=localStorage.getItem(\"state\");if(serializedState===null)return undefined;return JSON.parse(serializedState);}catch(e){console.log(e);return undefined;}}var TripSubmission=/*#__PURE__*/function(_Component){_inherits(TripSubmission,_Component);var _super=_createSuper(TripSubmission);function TripSubmission(props){var _this;_classCallCheck(this,TripSubmission);_this=_super.call(this,props);_this.getLocalStorage=function(){var list=_this.state.list;var data=[];list.map(function(item){var e=localStorage.getItem(item.text);var place;if(e!==null&&e!==\"{}\"){place=JSON.parse(e);data.push({place:item.text,date:place.date,time:place.time,description:place.description});}else{data.push({place:item.text,date:\"None\",time:\"None\",description:\"None\"});}});return data;};_this.pdfGenerator=function(){var storageData=_this.getLocalStorage();var tripName=localStorage.getItem(\"Trip Name\");var name=localStorage.getItem(\"Name\");var email=localStorage.getItem(\"Email\");console.log(storageData);var doc=new jsPDF(\"p\",\"pt\");var pageHeight=doc.internal.pageSize.height||doc.internal.pageSize.getHeight();var pageWidth=doc.internal.pageSize.width||doc.internal.pageSize.getWidth();doc.setFont(\"Times\");doc.setFontType(\"normal\");doc.setFontSize(12);doc.text(250,50,tripName);doc.text(50,80,\"Name: \"+name);doc.text(50,100,\"Email: \"+email);doc.line(50,115,pageWidth-50,115);var start=60;for(var i=0;i<storageData.length;i++){var j=i+1;doc.text(50,start+=70,j+\" - \"+storageData[i].place);doc.text(65,start+=15,\"Date: \"+storageData[i].date);doc.text(65,start+=15,\"Time: \"+storageData[i].time);doc.text(65,start+=15,\"Description: \"+storageData[i].description);}doc.save(tripName+\".postCOVID.pdf\");_this.props.history.push(\"/creation/tripSubmission/tripCompletion\");};_this.state={list:[]};_this.getLocalStorage=_this.getLocalStorage.bind(_assertThisInitialized(_this));_this.pdfGenerator=_this.pdfGenerator.bind(_assertThisInitialized(_this));return _this;}_createClass(TripSubmission,[{key:\"componentDidMount\",value:function componentDidMount(){var localStorageState=loadFromLocalStorage();this.setList(localStorageState.todos);}},{key:\"setList\",value:function setList(_list){this.setState({list:_list});}},{key:\"renderItems\",value:function renderItems(){var list=this.state.list;return list.map(function(item,i){return/*#__PURE__*/React.createElement(Destination,{key:i,id:item.text,item:item});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{align:\"center\",style:{color:\"black\",backgroundColor:\"#f0f0f0\",height:\"100%\"}},/*#__PURE__*/React.createElement(Navbar,{items:[\"u\",\"u\",\"u\",\"u\"]}),/*#__PURE__*/React.createElement(\"h2\",{style:{color:\"black\",fontWeight:\"lighter\",marginTop:\"50px\",width:\"80%\",textAlign:\"left\"}},\"Review Trip Submission:\",\" \",/*#__PURE__*/React.createElement(\"strong\",{style:{color:\"#fc2671\"}},localStorage.getItem(\"Trip Name\")),/*#__PURE__*/React.createElement(\"button\",{style:{float:\"right\",paddingLeft:\"25px\",paddingRight:\"25px\",paddingTop:\"7px\",paddingBottom:\"7px\",fontSize:\"12pt\",fontWeight:\"bold\",color:\"white\",backgroundColor:\"#ff5792\",borderStyle:\"none\",borderRadius:\"3px\",borderBottom:\"4px solid #054573\",marginRight:\"7px\"},onClick:this.pdfGenerator},\"Build Itinerary\")),/*#__PURE__*/React.createElement(\"div\",{align:\"center\",style:{backgroundColor:\"black\",width:\"80%\",height:\"1px\",marginBottom:\"30px\",marginTop:\"30px\"}}),/*#__PURE__*/React.createElement(\"div\",{align:\"center\",style:{backgroundColor:\"white\",width:\"80%\",height:\"100%\",borderRadius:\"3px\",padding:\"50px\"}},this.renderItems()),/*#__PURE__*/React.createElement(\"button\",{style:{paddingLeft:\"25px\",paddingRight:\"25px\",paddingTop:\"7px\",paddingBottom:\"7px\",fontSize:\"12pt\",fontWeight:\"bold\",color:\"white\",backgroundColor:\"#ff5792\",borderStyle:\"none\",borderRadius:\"3px\",borderBottom:\"4px solid #054573\",marginRight:\"7px\",marginBottom:\"100px\",marginTop:\"20px\"},onClick:this.pdfGenerator},\"Build Itinerary\"));}}]);return TripSubmission;}(Component);export default TripSubmission;","map":{"version":3,"sources":["/Users/Shivom/Desktop/Post.COVID4/client/src/pages/Creation/TripSubmission/tripSubmission.js"],"names":["React","Component","Navbar","Destination","jsPDF","loadFromLocalStorage","serializedState","localStorage","getItem","undefined","JSON","parse","e","console","log","TripSubmission","props","getLocalStorage","list","state","data","map","item","text","place","push","date","time","description","pdfGenerator","storageData","tripName","name","email","doc","pageHeight","internal","pageSize","height","getHeight","pageWidth","width","getWidth","setFont","setFontType","setFontSize","line","start","i","length","j","save","history","bind","localStorageState","setList","todos","_list","setState","color","backgroundColor","fontWeight","marginTop","textAlign","float","paddingLeft","paddingRight","paddingTop","paddingBottom","fontSize","borderStyle","borderRadius","borderBottom","marginRight","marginBottom","padding","renderItems"],"mappings":"2xBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,gCAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,sBAAP,CAEA,QAASC,CAAAA,oBAAT,EAAgC,CAC9B,GAAI,CACF,GAAMC,CAAAA,eAAe,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAxB,CACA,GAAIF,eAAe,GAAK,IAAxB,CAA8B,MAAOG,CAAAA,SAAP,CAC9B,MAAOC,CAAAA,IAAI,CAACC,KAAL,CAAWL,eAAX,CAAP,CACD,CAAC,MAAOM,CAAP,CAAU,CACVC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACA,MAAOH,CAAAA,SAAP,CACD,CACF,C,GAEKM,CAAAA,c,gHACJ,wBAAYC,KAAZ,CAAmB,gDACjB,uBAAMA,KAAN,EADiB,MAoBnBC,eApBmB,CAoBD,UAAM,CACtB,GAAMC,CAAAA,IAAI,CAAG,MAAKC,KAAL,CAAWD,IAAxB,CAEA,GAAIE,CAAAA,IAAI,CAAG,EAAX,CAEAF,IAAI,CAACG,GAAL,CAAS,SAACC,IAAD,CAAU,CACjB,GAAMV,CAAAA,CAAC,CAAGL,YAAY,CAACC,OAAb,CAAqBc,IAAI,CAACC,IAA1B,CAAV,CACA,GAAIC,CAAAA,KAAJ,CAEA,GAAIZ,CAAC,GAAK,IAAN,EAAcA,CAAC,GAAK,IAAxB,CAA8B,CAC5BY,KAAK,CAAGd,IAAI,CAACC,KAAL,CAAWC,CAAX,CAAR,CACAQ,IAAI,CAACK,IAAL,CAAU,CACRD,KAAK,CAAEF,IAAI,CAACC,IADJ,CAERG,IAAI,CAAEF,KAAK,CAACE,IAFJ,CAGRC,IAAI,CAAEH,KAAK,CAACG,IAHJ,CAIRC,WAAW,CAAEJ,KAAK,CAACI,WAJX,CAAV,EAMD,CARD,IAQO,CACLR,IAAI,CAACK,IAAL,CAAU,CACRD,KAAK,CAAEF,IAAI,CAACC,IADJ,CAERG,IAAI,CAAE,MAFE,CAGRC,IAAI,CAAE,MAHE,CAIRC,WAAW,CAAE,MAJL,CAAV,EAMD,CACF,CApBD,EAqBA,MAAOR,CAAAA,IAAP,CACD,CA/CkB,OAiDnBS,YAjDmB,CAiDJ,UAAM,CACnB,GAAMC,CAAAA,WAAW,CAAG,MAAKb,eAAL,EAApB,CACA,GAAMc,CAAAA,QAAQ,CAAGxB,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAjB,CACA,GAAMwB,CAAAA,IAAI,CAAGzB,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAb,CACA,GAAMyB,CAAAA,KAAK,CAAG1B,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CACAK,OAAO,CAACC,GAAR,CAAYgB,WAAZ,EACA,GAAII,CAAAA,GAAG,CAAG,GAAI9B,CAAAA,KAAJ,CAAU,GAAV,CAAe,IAAf,CAAV,CAEA,GAAI+B,CAAAA,UAAU,CACZD,GAAG,CAACE,QAAJ,CAAaC,QAAb,CAAsBC,MAAtB,EAAgCJ,GAAG,CAACE,QAAJ,CAAaC,QAAb,CAAsBE,SAAtB,EADlC,CAEA,GAAIC,CAAAA,SAAS,CACXN,GAAG,CAACE,QAAJ,CAAaC,QAAb,CAAsBI,KAAtB,EAA+BP,GAAG,CAACE,QAAJ,CAAaC,QAAb,CAAsBK,QAAtB,EADjC,CAGAR,GAAG,CAACS,OAAJ,CAAY,OAAZ,EACAT,GAAG,CAACU,WAAJ,CAAgB,QAAhB,EACAV,GAAG,CAACW,WAAJ,CAAgB,EAAhB,EACAX,GAAG,CAACX,IAAJ,CAAS,GAAT,CAAc,EAAd,CAAkBQ,QAAlB,EAEAG,GAAG,CAACX,IAAJ,CAAS,EAAT,CAAa,EAAb,CAAiB,SAAWS,IAA5B,EACAE,GAAG,CAACX,IAAJ,CAAS,EAAT,CAAa,GAAb,CAAkB,UAAYU,KAA9B,EACAC,GAAG,CAACY,IAAJ,CAAS,EAAT,CAAa,GAAb,CAAkBN,SAAS,CAAG,EAA9B,CAAkC,GAAlC,EAEA,GAAIO,CAAAA,KAAK,CAAG,EAAZ,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGlB,WAAW,CAACmB,MAAhC,CAAwCD,CAAC,EAAzC,CAA6C,CAC3C,GAAIE,CAAAA,CAAC,CAAGF,CAAC,CAAG,CAAZ,CACAd,GAAG,CAACX,IAAJ,CAAS,EAAT,CAAcwB,KAAK,EAAI,EAAvB,CAA4BG,CAAC,CAAG,KAAJ,CAAYpB,WAAW,CAACkB,CAAD,CAAX,CAAexB,KAAvD,EACAU,GAAG,CAACX,IAAJ,CAAS,EAAT,CAAcwB,KAAK,EAAI,EAAvB,CAA4B,SAAWjB,WAAW,CAACkB,CAAD,CAAX,CAAetB,IAAtD,EACAQ,GAAG,CAACX,IAAJ,CAAS,EAAT,CAAcwB,KAAK,EAAI,EAAvB,CAA4B,SAAWjB,WAAW,CAACkB,CAAD,CAAX,CAAerB,IAAtD,EACAO,GAAG,CAACX,IAAJ,CAAS,EAAT,CAAcwB,KAAK,EAAI,EAAvB,CAA4B,gBAAkBjB,WAAW,CAACkB,CAAD,CAAX,CAAepB,WAA7D,EACD,CAEDM,GAAG,CAACiB,IAAJ,CAASpB,QAAQ,CAAG,gBAApB,EACA,MAAKf,KAAL,CAAWoC,OAAX,CAAmB3B,IAAnB,CAAwB,yCAAxB,EACD,CAlFkB,CAEjB,MAAKN,KAAL,CAAa,CACXD,IAAI,CAAE,EADK,CAAb,CAGA,MAAKD,eAAL,CAAuB,MAAKA,eAAL,CAAqBoC,IAArB,+BAAvB,CACA,MAAKxB,YAAL,CAAoB,MAAKA,YAAL,CAAkBwB,IAAlB,+BAApB,CANiB,aAOlB,C,wFAEmB,CAClB,GAAMC,CAAAA,iBAAiB,CAAGjD,oBAAoB,EAA9C,CACA,KAAKkD,OAAL,CAAaD,iBAAiB,CAACE,KAA/B,EACD,C,wCAEOC,K,CAAO,CACb,KAAKC,QAAL,CAAc,CACZxC,IAAI,CAAEuC,KADM,CAAd,EAGD,C,iDAkEa,CACZ,GAAMvC,CAAAA,IAAI,CAAG,KAAKC,KAAL,CAAWD,IAAxB,CAEA,MAAOA,CAAAA,IAAI,CAACG,GAAL,CAAS,SAACC,IAAD,CAAO0B,CAAP,qBACd,oBAAC,WAAD,EAAa,GAAG,CAAEA,CAAlB,CAAqB,EAAE,CAAE1B,IAAI,CAACC,IAA9B,CAAoC,IAAI,CAAED,IAA1C,EADc,EAAT,CAAP,CAGD,C,uCAEQ,CACP,mBACE,2BACE,KAAK,CAAC,QADR,CAEE,KAAK,CAAE,CACLqC,KAAK,CAAE,OADF,CAELC,eAAe,CAAE,SAFZ,CAGLtB,MAAM,CAAE,MAHH,CAFT,eAQE,oBAAC,MAAD,EAAQ,KAAK,CAAE,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAAgB,GAAhB,CAAf,EARF,cASE,0BACE,KAAK,CAAE,CACLqB,KAAK,CAAE,OADF,CAELE,UAAU,CAAE,SAFP,CAGLC,SAAS,CAAE,MAHN,CAILrB,KAAK,CAAE,KAJF,CAKLsB,SAAS,CAAE,MALN,CADT,4BAS0B,GAT1B,cAUE,8BAAQ,KAAK,CAAE,CAAEJ,KAAK,CAAE,SAAT,CAAf,EACGpD,YAAY,CAACC,OAAb,CAAqB,WAArB,CADH,CAVF,cAaE,8BACE,KAAK,CAAE,CACLwD,KAAK,CAAE,OADF,CAELC,WAAW,CAAE,MAFR,CAGLC,YAAY,CAAE,MAHT,CAILC,UAAU,CAAE,KAJP,CAKLC,aAAa,CAAE,KALV,CAMLC,QAAQ,CAAE,MANL,CAOLR,UAAU,CAAE,MAPP,CAQLF,KAAK,CAAE,OARF,CASLC,eAAe,CAAE,SATZ,CAULU,WAAW,CAAE,MAVR,CAWLC,YAAY,CAAE,KAXT,CAYLC,YAAY,CAAE,mBAZT,CAaLC,WAAW,CAAE,KAbR,CADT,CAgBE,OAAO,CAAE,KAAK5C,YAhBhB,oBAbF,CATF,cA2CE,2BACE,KAAK,CAAC,QADR,CAEE,KAAK,CAAE,CACL+B,eAAe,CAAE,OADZ,CAELnB,KAAK,CAAE,KAFF,CAGLH,MAAM,CAAE,KAHH,CAILoC,YAAY,CAAE,MAJT,CAKLZ,SAAS,CAAE,MALN,CAFT,EA3CF,cAqDE,2BACE,KAAK,CAAC,QADR,CAEE,KAAK,CAAE,CACLF,eAAe,CAAE,OADZ,CAELnB,KAAK,CAAE,KAFF,CAGLH,MAAM,CAAE,MAHH,CAILiC,YAAY,CAAE,KAJT,CAKLI,OAAO,CAAE,MALJ,CAFT,EAUG,KAAKC,WAAL,EAVH,CArDF,cAiEE,8BACE,KAAK,CAAE,CACLX,WAAW,CAAE,MADR,CAELC,YAAY,CAAE,MAFT,CAGLC,UAAU,CAAE,KAHP,CAILC,aAAa,CAAE,KAJV,CAKLC,QAAQ,CAAE,MALL,CAMLR,UAAU,CAAE,MANP,CAOLF,KAAK,CAAE,OAPF,CAQLC,eAAe,CAAE,SARZ,CASLU,WAAW,CAAE,MATR,CAULC,YAAY,CAAE,KAVT,CAWLC,YAAY,CAAE,mBAXT,CAYLC,WAAW,CAAE,KAZR,CAaLC,YAAY,CAAE,OAbT,CAcLZ,SAAS,CAAE,MAdN,CADT,CAiBE,OAAO,CAAE,KAAKjC,YAjBhB,oBAjEF,CADF,CAyFD,C,4BAvL0B5B,S,EA0L7B,cAAec,CAAAA,cAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Navbar from \"../../components/Navbar/navbar\";\nimport Destination from \"./components/Destination\";\nimport jsPDF from \"jspdf\";\nimport \"./tripSubmission.css\";\n\nfunction loadFromLocalStorage() {\n  try {\n    const serializedState = localStorage.getItem(\"state\");\n    if (serializedState === null) return undefined;\n    return JSON.parse(serializedState);\n  } catch (e) {\n    console.log(e);\n    return undefined;\n  }\n}\n\nclass TripSubmission extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [],\n    };\n    this.getLocalStorage = this.getLocalStorage.bind(this);\n    this.pdfGenerator = this.pdfGenerator.bind(this);\n  }\n\n  componentDidMount() {\n    const localStorageState = loadFromLocalStorage();\n    this.setList(localStorageState.todos);\n  }\n\n  setList(_list) {\n    this.setState({\n      list: _list,\n    });\n  }\n\n  getLocalStorage = () => {\n    const list = this.state.list;\n\n    var data = [];\n\n    list.map((item) => {\n      const e = localStorage.getItem(item.text);\n      var place;\n\n      if (e !== null && e !== \"{}\") {\n        place = JSON.parse(e);\n        data.push({\n          place: item.text,\n          date: place.date,\n          time: place.time,\n          description: place.description,\n        });\n      } else {\n        data.push({\n          place: item.text,\n          date: \"None\",\n          time: \"None\",\n          description: \"None\",\n        });\n      }\n    });\n    return data;\n  };\n\n  pdfGenerator = () => {\n    const storageData = this.getLocalStorage();\n    const tripName = localStorage.getItem(\"Trip Name\");\n    const name = localStorage.getItem(\"Name\");\n    const email = localStorage.getItem(\"Email\");\n    console.log(storageData);\n    var doc = new jsPDF(\"p\", \"pt\");\n\n    var pageHeight =\n      doc.internal.pageSize.height || doc.internal.pageSize.getHeight();\n    var pageWidth =\n      doc.internal.pageSize.width || doc.internal.pageSize.getWidth();\n\n    doc.setFont(\"Times\");\n    doc.setFontType(\"normal\");\n    doc.setFontSize(12);\n    doc.text(250, 50, tripName);\n\n    doc.text(50, 80, \"Name: \" + name);\n    doc.text(50, 100, \"Email: \" + email);\n    doc.line(50, 115, pageWidth - 50, 115);\n\n    var start = 60;\n    for (var i = 0; i < storageData.length; i++) {\n      var j = i + 1;\n      doc.text(50, (start += 70), j + \" - \" + storageData[i].place);\n      doc.text(65, (start += 15), \"Date: \" + storageData[i].date);\n      doc.text(65, (start += 15), \"Time: \" + storageData[i].time);\n      doc.text(65, (start += 15), \"Description: \" + storageData[i].description);\n    }\n\n    doc.save(tripName + \".postCOVID.pdf\");\n    this.props.history.push(\"/creation/tripSubmission/tripCompletion\");\n  };\n\n  renderItems() {\n    const list = this.state.list;\n\n    return list.map((item, i) => (\n      <Destination key={i} id={item.text} item={item} />\n    ));\n  }\n\n  render() {\n    return (\n      <div\n        align=\"center\"\n        style={{\n          color: \"black\",\n          backgroundColor: \"#f0f0f0\",\n          height: \"100%\",\n        }}\n      >\n        <Navbar items={[\"u\", \"u\", \"u\", \"u\"]} />\n        <h2\n          style={{\n            color: \"black\",\n            fontWeight: \"lighter\",\n            marginTop: \"50px\",\n            width: \"80%\",\n            textAlign: \"left\",\n          }}\n        >\n          Review Trip Submission:{\" \"}\n          <strong style={{ color: \"#fc2671\" }}>\n            {localStorage.getItem(\"Trip Name\")}\n          </strong>\n          <button\n            style={{\n              float: \"right\",\n              paddingLeft: \"25px\",\n              paddingRight: \"25px\",\n              paddingTop: \"7px\",\n              paddingBottom: \"7px\",\n              fontSize: \"12pt\",\n              fontWeight: \"bold\",\n              color: \"white\",\n              backgroundColor: \"#ff5792\",\n              borderStyle: \"none\",\n              borderRadius: \"3px\",\n              borderBottom: \"4px solid #054573\",\n              marginRight: \"7px\",\n            }}\n            onClick={this.pdfGenerator}\n          >\n            Build Itinerary\n          </button>\n        </h2>\n        <div\n          align=\"center\"\n          style={{\n            backgroundColor: \"black\",\n            width: \"80%\",\n            height: \"1px\",\n            marginBottom: \"30px\",\n            marginTop: \"30px\",\n          }}\n        ></div>\n        <div\n          align=\"center\"\n          style={{\n            backgroundColor: \"white\",\n            width: \"80%\",\n            height: \"100%\",\n            borderRadius: \"3px\",\n            padding: \"50px\",\n          }}\n        >\n          {this.renderItems()}\n        </div>\n        <button\n          style={{\n            paddingLeft: \"25px\",\n            paddingRight: \"25px\",\n            paddingTop: \"7px\",\n            paddingBottom: \"7px\",\n            fontSize: \"12pt\",\n            fontWeight: \"bold\",\n            color: \"white\",\n            backgroundColor: \"#ff5792\",\n            borderStyle: \"none\",\n            borderRadius: \"3px\",\n            borderBottom: \"4px solid #054573\",\n            marginRight: \"7px\",\n            marginBottom: \"100px\",\n            marginTop: \"20px\",\n          }}\n          onClick={this.pdfGenerator}\n        >\n          Build Itinerary\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default TripSubmission;\n"]},"metadata":{},"sourceType":"module"}