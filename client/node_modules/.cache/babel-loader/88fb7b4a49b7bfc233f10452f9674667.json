{"ast":null,"code":"var _jsxFileName = \"/Users/Shivom/Desktop/Post.COVID4/client/src/pages/Events/Events.js\";\nimport React, { Component } from \"react\";\nimport Navbar from \"../components/Navbar/navbar\";\nimport Footer from \"../components/Footer/footer\";\nimport Star from \"../components/Star/Star\";\nimport axios from \"axios\";\nimport \"./events.css\";\nconst seat_geek_client_id = \"MjEyMDE0MTh8MTU5MTE0NjEzMy45Nw\";\nconst zomato_key = \"a709f309de1a20ac8da79907af27d37c\";\n\nclass Events extends Component {\n  constructor(props) {\n    super(props);\n\n    this.renderStars = rating => {\n      // console.log(this.state.reviews);\n      let stars = [];\n\n      for (var i = 0; i < 5; i++) {\n        if (i < rating) {\n          stars.push( /*#__PURE__*/React.createElement(Star, {\n            key: i,\n            state: \"active\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 20\n            }\n          }));\n        } else {\n          stars.push( /*#__PURE__*/React.createElement(Star, {\n            key: i,\n            state: \"none\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 20\n            }\n          }));\n        }\n      }\n\n      return stars;\n    };\n\n    this.state = {\n      restaurants: [],\n      activities: [],\n      isActiveRestaurants: false,\n      isActiveActivities: false\n    };\n  }\n\n  async createRestaurants(data) {\n    let res = [];\n\n    for (var i = 0; i < data.nearby_restaurants.length; i++) {\n      res.push( /*#__PURE__*/React.createElement(\"div\", {\n        key: i,\n        align: \"left\",\n        className: \"card-e\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 13\n        }\n      }, data.nearby_restaurants[i].restaurant.name), /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 13\n        }\n      }, data.nearby_restaurants[i].restaurant.cuisines), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"rating\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 15\n        }\n      }, \" \"), this.renderStars(Math.round(data.nearby_restaurants[i].restaurant.user_rating.aggregate_rating))), /*#__PURE__*/React.createElement(\"a\", {\n        href: data.nearby_restaurants[i].restaurant.url,\n        className: \"visit-button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 13\n        }\n      }, \"Visit Website\"), /*#__PURE__*/React.createElement(\"a\", {\n        href: data.nearby_restaurants[i].restaurant.menu_url,\n        className: \"menu-button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }\n      }, \"Menu\")), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }\n      })));\n    }\n\n    this.setState({\n      restaurants: res,\n      isActiveRestaurants: true\n    });\n  }\n\n  formatDate(event) {\n    let date = new Date(event.datetime_local);\n    let f_date = date.toLocaleTimeString();\n    let date_substr = f_date.substring(0, f_date.lastIndexOf(\":\")) + \" \" + f_date.substring(f_date.length - 2);\n    return date_substr;\n  }\n\n  getPopStyle(value) {\n    var num = new Number(value);\n    var per = Math.round(num.toString());\n    var color; // Red - not very good\n\n    if (per <= 33) color = \"red\"; // Yellow - okay\n\n    if (per > 33 && per <= 66) color = \"yellow\"; // Green - pretty goog\n\n    if (per >= 66) color = \"#42f598\";\n    return {\n      backgroundColor: color,\n      width: per.toString() + \"%\"\n    };\n  }\n\n  async getEvents() {\n    const response = await axios({\n      method: \"GET\",\n      url: `https://api.seatgeek.com/2/events?geoip=true&range=12mi&client_id=${seat_geek_client_id}`\n    });\n    let res = [];\n\n    for (var i = 0; i < response.data.events.length; i++) {\n      let event = response.data.events[i];\n      let taxes = [];\n      let date = new Date(event.datetime_local);\n      let time_of_event = this.formatDate(event);\n\n      for (var j = 0; j < event.taxonomies.length; j++) {\n        taxes.push( /*#__PURE__*/React.createElement(\"span\", {\n          key: j + 1,\n          className: \"types\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 11\n          }\n        }, event.taxonomies[j].name, \" \"));\n      }\n\n      res.push( /*#__PURE__*/React.createElement(\"div\", {\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        align: \"left\",\n        className: \"card-e\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"event-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 15\n        }\n      }, event.title, \" \", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"status-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }\n      }, event.is_open ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"open\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }\n      }, \"Open\") : /*#__PURE__*/React.createElement(\"span\", {\n        className: \"closed\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }\n      }, \"Closed\"))), /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"event-taxes\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 15\n        }\n      }, taxes), /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"type-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }\n      }, \"Popularity: \"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"popularity\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 17\n        }\n      }, event.popularity === 0 ? \"No Rating\" : (event.popularity * 100).toFixed(2) + \"%\", \" \")), event.popularity === 0 ? null : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-bar\",\n        role: \"progressbar\",\n        \"aria-valuenow\": \"70\",\n        \"aria-valuemin\": \"0\",\n        \"aria-valuemax\": \"100\",\n        style: this.getPopStyle((event.popularity * 100).toFixed(2)),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"event-location\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 15\n        }\n      }, event.venue.address, \", \", event.venue.display_location), /*#__PURE__*/React.createElement(\"a\", {\n        href: event.url,\n        className: \"visit-button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 15\n        }\n      }, \"Visit Website\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"event-date\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 15\n        }\n      }, date.toDateString(), \" - \", time_of_event))), /*#__PURE__*/React.createElement(\"hr\", {\n        className: \"hr-line\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }\n      })));\n    }\n\n    this.setState({\n      activities: res,\n      isActiveActivities: true\n    });\n  }\n\n  getRestaurants() {\n    navigator.geolocation.getCurrentPosition(async position => {\n      let lat = position.coords.latitude;\n      let lng = position.coords.longitude;\n      const response = await axios({\n        method: \"GET\",\n        url: `https://developers.zomato.com/api/v2.1/geocode?lat=${lat}&lon=${lng}`,\n        headers: {\n          \"user-key\": zomato_key,\n          \"content-type\": \"application/json\"\n        }\n      });\n      this.createRestaurants(response.data);\n    });\n  }\n\n  componentDidMount() {\n    this.getRestaurants();\n    this.getEvents();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"meta\", {\n      charSet: \"utf-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"meta\", {\n      name: \"viewport\",\n      content: \"width=device-width, initial-scale=1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"script\", {\n      src: \"https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"script\", {\n      src: \"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"script\", {\n      src: \"https://kit.fontawesome.com/a076d05399.js\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"backgroun\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      items: [\"u\", \"u\", \"u\", \"active\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row-b\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column-b\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"food-column-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 15\n      }\n    }, \"Food\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"column-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 15\n      }\n    }, \" Restaurants Near You \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"restaurant-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 15\n      }\n    }, this.state.isActiveRestaurants ? this.state.restaurants : /*#__PURE__*/React.createElement(\"div\", {\n      align: \"center\",\n      className: \"loader ldr1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column-b-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"activity-column-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 15\n      }\n    }, \"Activity\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"column-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 15\n      }\n    }, \"Activities Near You\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"events-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 15\n      }\n    }, this.state.isActiveActivities ? this.state.activities : /*#__PURE__*/React.createElement(\"div\", {\n      align: \"center\",\n      className: \"loader ldr2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 19\n      }\n    }))))), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default Events;","map":{"version":3,"sources":["/Users/Shivom/Desktop/Post.COVID4/client/src/pages/Events/Events.js"],"names":["React","Component","Navbar","Footer","Star","axios","seat_geek_client_id","zomato_key","Events","constructor","props","renderStars","rating","stars","i","push","state","restaurants","activities","isActiveRestaurants","isActiveActivities","createRestaurants","data","res","nearby_restaurants","length","restaurant","name","cuisines","Math","round","user_rating","aggregate_rating","url","menu_url","setState","formatDate","event","date","Date","datetime_local","f_date","toLocaleTimeString","date_substr","substring","lastIndexOf","getPopStyle","value","num","Number","per","toString","color","backgroundColor","width","getEvents","response","method","events","taxes","time_of_event","j","taxonomies","title","is_open","popularity","toFixed","venue","address","display_location","toDateString","getRestaurants","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lng","longitude","headers","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Navbar from \"../components/Navbar/navbar\";\nimport Footer from \"../components/Footer/footer\";\nimport Star from \"../components/Star/Star\";\nimport axios from \"axios\";\nimport \"./events.css\";\n\nconst seat_geek_client_id = \"MjEyMDE0MTh8MTU5MTE0NjEzMy45Nw\";\nconst zomato_key = \"a709f309de1a20ac8da79907af27d37c\";\n\nclass Events extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      restaurants: [],\n      activities: [],\n      isActiveRestaurants: false,\n      isActiveActivities: false,\n    };\n  }\n\n  async createRestaurants(data) {\n    let res = [];\n    for (var i = 0; i < data.nearby_restaurants.length; i++) {\n      res.push(\n        <div key={i} align=\"left\" className=\"card-e\">\n          <div className=\"card-body\">\n            <h4>{data.nearby_restaurants[i].restaurant.name}</h4>\n            <h6>{data.nearby_restaurants[i].restaurant.cuisines}</h6>\n            <p className=\"card-text\">\n              <span className=\"rating\"> </span>\n              {this.renderStars(\n                Math.round(\n                  data.nearby_restaurants[i].restaurant.user_rating\n                    .aggregate_rating\n                )\n              )}\n            </p>\n            <a\n              href={data.nearby_restaurants[i].restaurant.url}\n              className=\"visit-button\"\n            >\n              Visit Website\n            </a>\n            <a\n              href={data.nearby_restaurants[i].restaurant.menu_url}\n              className=\"menu-button\"\n            >\n              Menu\n            </a>\n          </div>\n          <hr />\n        </div>\n      );\n    }\n    this.setState({\n      restaurants: res,\n      isActiveRestaurants: true,\n    });\n  }\n\n  formatDate(event) {\n    let date = new Date(event.datetime_local);\n    let f_date = date.toLocaleTimeString();\n    let date_substr =\n      f_date.substring(0, f_date.lastIndexOf(\":\")) +\n      \" \" +\n      f_date.substring(f_date.length - 2);\n    return date_substr;\n  }\n\n  renderStars = (rating) => {\n    // console.log(this.state.reviews);\n    let stars = [];\n    for (var i = 0; i < 5; i++) {\n      if (i < rating) {\n        stars.push(<Star key={i} state={\"active\"} />);\n      } else {\n        stars.push(<Star key={i} state={\"none\"} />);\n      }\n    }\n    return stars;\n  };\n\n  getPopStyle(value) {\n    var num = new Number(value);\n    var per = Math.round(num.toString());\n    var color;\n    // Red - not very good\n    if (per <= 33) color = \"red\";\n    // Yellow - okay\n    if (per > 33 && per <= 66) color = \"yellow\";\n    // Green - pretty goog\n    if (per >= 66) color = \"#42f598\";\n\n    return { backgroundColor: color, width: per.toString() + \"%\" };\n  }\n\n  async getEvents() {\n    const response = await axios({\n      method: \"GET\",\n      url: `https://api.seatgeek.com/2/events?geoip=true&range=12mi&client_id=${seat_geek_client_id}`,\n    });\n    let res = [];\n    for (var i = 0; i < response.data.events.length; i++) {\n      let event = response.data.events[i];\n      let taxes = [];\n      let date = new Date(event.datetime_local);\n      let time_of_event = this.formatDate(event);\n      for (var j = 0; j < event.taxonomies.length; j++) {\n        taxes.push(\n          <span key={j + 1} className=\"types\">\n            {event.taxonomies[j].name}{\" \"}\n          </span>\n        );\n      }\n      res.push(\n        <div key={i}>\n          <div align=\"left\" className=\"card-e\">\n            <div className=\"card-body\">\n              <h4 className=\"event-title\">\n                {event.title}{\" \"}\n                <span className=\"status-title\">\n                  {event.is_open ? (\n                    <span className=\"open\">Open</span>\n                  ) : (\n                    <span className=\"closed\">Closed</span>\n                  )}\n                </span>\n              </h4>\n              <h5 className=\"event-taxes\">\n                {/* <span className=\"type-title\">Type: </span> */}\n                {taxes}\n              </h5>\n              <h5>\n                <span className=\"type-title\">Popularity: </span>\n                <span className=\"popularity\">\n                  {event.popularity === 0\n                    ? \"No Rating\"\n                    : (event.popularity * 100).toFixed(2) + \"%\"}{\" \"}\n                </span>\n              </h5>\n              {event.popularity === 0 ? null : (\n                <div className=\"progress\">\n                  <div\n                    className=\"progress-bar\"\n                    role=\"progressbar\"\n                    aria-valuenow=\"70\"\n                    aria-valuemin=\"0\"\n                    aria-valuemax=\"100\"\n                    style={this.getPopStyle(\n                      (event.popularity * 100).toFixed(2)\n                    )}\n                  ></div>\n                </div>\n              )}\n              <p className=\"event-location\">\n                {event.venue.address}, {event.venue.display_location}\n              </p>\n              <a href={event.url} className=\"visit-button\">\n                Visit Website\n              </a>\n              <span className=\"event-date\">\n                {date.toDateString()} - {time_of_event}\n              </span>\n            </div>\n          </div>\n          <hr className=\"hr-line\" />\n        </div>\n      );\n    }\n\n    this.setState({\n      activities: res,\n      isActiveActivities: true,\n    });\n  }\n\n  getRestaurants() {\n    navigator.geolocation.getCurrentPosition(async (position) => {\n      let lat = position.coords.latitude;\n      let lng = position.coords.longitude;\n      const response = await axios({\n        method: \"GET\",\n        url: `https://developers.zomato.com/api/v2.1/geocode?lat=${lat}&lon=${lng}`,\n        headers: {\n          \"user-key\": zomato_key,\n          \"content-type\": \"application/json\",\n        },\n      });\n      this.createRestaurants(response.data);\n    });\n  }\n\n  componentDidMount() {\n    this.getRestaurants();\n    this.getEvents();\n  }\n\n  render() {\n    return (\n      <div>\n        <meta charSet=\"utf-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n        <link\n          rel=\"stylesheet\"\n          href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css\"\n        ></link>\n        <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js\"></script>\n        <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js\"></script>\n        <script src=\"https://kit.fontawesome.com/a076d05399.js\"></script>\n        <div className=\"backgroun\">\n          <Navbar items={[\"u\", \"u\", \"u\", \"active\"]}></Navbar>\n          <div className=\"row-b\">\n            <div className=\"column-b\">\n              <h2 className=\"food-column-title\">Food</h2>\n              <p className=\"column-description\"> Restaurants Near You </p>\n              <div className=\"restaurant-list\">\n                {this.state.isActiveRestaurants ? (\n                  this.state.restaurants\n                ) : (\n                  <div align=\"center\" className=\"loader ldr1\"></div>\n                )}\n              </div>\n            </div>\n            <div className=\"column-b-2\">\n              <h2 className=\"activity-column-title\">Activity</h2>\n              <p className=\"column-description\">Activities Near You</p>\n              <div className=\"events-list\">\n                {this.state.isActiveActivities ? (\n                  this.state.activities\n                ) : (\n                  <div align=\"center\" className=\"loader ldr2\"></div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default Events;\n"]},"metadata":{},"sourceType":"module"}